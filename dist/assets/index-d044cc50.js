import P,{createContext as W,useState as N}from"react";import M from"react-dom";import{Routes as B,Route as J}from"react-router-dom";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&e(p)}).observe(document,{childList:!0,subtree:!0});function d(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function e(o){if(o.ep)return;o.ep=!0;const u=d(o);fetch(o.href,u)}})();var R={exports:{}},S={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=P,G=Symbol.for("react.element"),K=Symbol.for("react.fragment"),z=Object.prototype.hasOwnProperty,H=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function F(a,t,d){var e,o={},u=null,p=null;d!==void 0&&(u=""+d),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(p=t.ref);for(e in t)z.call(t,e)&&!V.hasOwnProperty(e)&&(o[e]=t[e]);if(a&&a.defaultProps)for(e in t=a.defaultProps,t)o[e]===void 0&&(o[e]=t[e]);return{$$typeof:G,type:a,key:u,ref:p,props:o,_owner:H.current}}S.Fragment=K;S.jsx=F;S.jsxs=F;R.exports=S;var r=R.exports,O={},T=M;O.createRoot=T.createRoot,O.hydrateRoot=T.hydrateRoot;var C=function(a,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,e){d.__proto__=e}||function(d,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(d[o]=e[o])},C(a,t)};function Y(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");C(a,t);function d(){this.constructor=a}a.prototype=t===null?Object.create(t):(d.prototype=t.prototype,new d)}var _=function(){return _=Object.assign||function(t){for(var d,e=1,o=arguments.length;e<o;e++){d=arguments[e];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(t[u]=d[u])}return t},_.apply(this,arguments)},k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function I(a,t){return a(t={exports:{}},t.exports),t.exports}var b=I(function(a,t){Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(){var o=this;this.locked=new Map,this.addToLocked=function(u,p){var x=o.locked.get(u);x===void 0?p===void 0?o.locked.set(u,[]):o.locked.set(u,[p]):p!==void 0&&(x.unshift(p),o.locked.set(u,x))},this.isLocked=function(u){return o.locked.has(u)},this.lock=function(u){return new Promise(function(p,x){o.isLocked(u)?o.addToLocked(u,p):(o.addToLocked(u),p())})},this.unlock=function(u){var p=o.locked.get(u);if(p!==void 0&&p.length!==0){var x=p.pop();o.locked.set(u,p),x!==void 0&&setTimeout(x,0)}else o.locked.delete(u)}}return e.getInstance=function(){return e.instance===void 0&&(e.instance=new e),e.instance},e}();t.default=function(){return d.getInstance()}});L(b);var Q=L(I(function(a,t){var d=k&&k.__awaiter||function(l,c,i,s){return new(i||(i=Promise))(function(n,h){function f(v){try{w(s.next(v))}catch(m){h(m)}}function g(v){try{w(s.throw(v))}catch(m){h(m)}}function w(v){v.done?n(v.value):new i(function(m){m(v.value)}).then(f,g)}w((s=s.apply(l,c||[])).next())})},e=k&&k.__generator||function(l,c){var i,s,n,h,f={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(w){return function(v){return function(m){if(i)throw new TypeError("Generator is already executing.");for(;f;)try{if(i=1,s&&(n=2&m[0]?s.return:m[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,m[1])).done)return n;switch(s=0,n&&(m=[2&m[0],n.value]),m[0]){case 0:case 1:n=m;break;case 4:return f.label++,{value:m[1],done:!1};case 5:f.label++,s=m[1],m=[0];continue;case 7:m=f.ops.pop(),f.trys.pop();continue;default:if(n=f.trys,!((n=n.length>0&&n[n.length-1])||m[0]!==6&&m[0]!==2)){f=0;continue}if(m[0]===3&&(!n||m[1]>n[0]&&m[1]<n[3])){f.label=m[1];break}if(m[0]===6&&f.label<n[1]){f.label=n[1],n=m;break}if(n&&f.label<n[2]){f.label=n[2],f.ops.push(m);break}n[2]&&f.ops.pop(),f.trys.pop();continue}m=c.call(l,f)}catch(U){m=[6,U],s=0}finally{i=n=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([w,v])}}};Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key";function u(l){return new Promise(function(c){return setTimeout(c,l)})}function p(l){for(var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",s=0;s<l;s++)i+=c[Math.floor(Math.random()*c.length)];return i}var x=function(){function l(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+p(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),l.waiters===void 0&&(l.waiters=[])}return l.prototype.acquireLock=function(c,i){return i===void 0&&(i=5e3),d(this,void 0,void 0,function(){var s,n,h,f,g,w;return e(this,function(v){switch(v.label){case 0:s=Date.now()+p(4),n=Date.now()+i,h=o+"-"+c,f=window.localStorage,v.label=1;case 1:return Date.now()<n?[4,u(30)]:[3,8];case 2:return v.sent(),f.getItem(h)!==null?[3,5]:(g=this.id+"-"+c+"-"+s,[4,u(Math.floor(25*Math.random()))]);case 3:return v.sent(),f.setItem(h,JSON.stringify({id:this.id,iat:s,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,u(30)];case 4:return v.sent(),(w=f.getItem(h))!==null&&(w=JSON.parse(w)).id===this.id&&w.iat===s?(this.acquiredIatSet.add(s),this.refreshLockWhileAcquired(h,s),[2,!0]):[3,7];case 5:return l.lockCorrector(),[4,this.waitForSomethingToChange(n)];case 6:v.sent(),v.label=7;case 7:return s=Date.now()+p(4),[3,1];case 8:return[2,!1]}})})},l.prototype.refreshLockWhileAcquired=function(c,i){return d(this,void 0,void 0,function(){var s=this;return e(this,function(n){return setTimeout(function(){return d(s,void 0,void 0,function(){var h,f;return e(this,function(g){switch(g.label){case 0:return[4,b.default().lock(i)];case 1:return g.sent(),this.acquiredIatSet.has(i)?(h=window.localStorage,(f=h.getItem(c))===null?(b.default().unlock(i),[2]):((f=JSON.parse(f)).timeRefreshed=Date.now(),h.setItem(c,JSON.stringify(f)),b.default().unlock(i),this.refreshLockWhileAcquired(c,i),[2])):(b.default().unlock(i),[2])}})})},1e3),[2]})})},l.prototype.waitForSomethingToChange=function(c){return d(this,void 0,void 0,function(){return e(this,function(i){switch(i.label){case 0:return[4,new Promise(function(s){var n=!1,h=Date.now(),f=!1;function g(){if(f||(window.removeEventListener("storage",g),l.removeFromWaiting(g),clearTimeout(w),f=!0),!n){n=!0;var v=50-(Date.now()-h);v>0?setTimeout(s,v):s()}}window.addEventListener("storage",g),l.addToWaiting(g);var w=setTimeout(g,Math.max(0,c-Date.now()))})];case 1:return i.sent(),[2]}})})},l.addToWaiting=function(c){this.removeFromWaiting(c),l.waiters!==void 0&&l.waiters.push(c)},l.removeFromWaiting=function(c){l.waiters!==void 0&&(l.waiters=l.waiters.filter(function(i){return i!==c}))},l.notifyWaiters=function(){l.waiters!==void 0&&l.waiters.slice().forEach(function(c){return c()})},l.prototype.releaseLock=function(c){return d(this,void 0,void 0,function(){return e(this,function(i){switch(i.label){case 0:return[4,this.releaseLock__private__(c)];case 1:return[2,i.sent()]}})})},l.prototype.releaseLock__private__=function(c){return d(this,void 0,void 0,function(){var i,s,n;return e(this,function(h){switch(h.label){case 0:return i=window.localStorage,s=o+"-"+c,(n=i.getItem(s))===null?[2]:(n=JSON.parse(n)).id!==this.id?[3,2]:[4,b.default().lock(n.iat)];case 1:h.sent(),this.acquiredIatSet.delete(n.iat),i.removeItem(s),b.default().unlock(n.iat),l.notifyWaiters(),h.label=2;case 2:return[2]}})})},l.lockCorrector=function(){for(var c=Date.now()-5e3,i=window.localStorage,s=Object.keys(i),n=!1,h=0;h<s.length;h++){var f=s[h];if(f.includes(o)){var g=i.getItem(f);g!==null&&((g=JSON.parse(g)).timeRefreshed===void 0&&g.timeAcquired<c||g.timeRefreshed!==void 0&&g.timeRefreshed<c)&&(i.removeItem(f),n=!0)}}n&&l.notifyWaiters()},l.waiters=void 0,l}();t.default=x})),j=I(function(a,t){var d=k&&k.__assign||function(){return d=Object.assign||function(l){for(var c,i=1,s=arguments.length;i<s;i++)for(var n in c=arguments[i])Object.prototype.hasOwnProperty.call(c,n)&&(l[n]=c[n]);return l},d.apply(this,arguments)};function e(l,c){if(!c)return"";var i="; "+l;return c===!0?i:i+"="+c}function o(l,c,i){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(s){if(typeof s.expires=="number"){var n=new Date;n.setMilliseconds(n.getMilliseconds()+864e5*s.expires),s.expires=n}return e("Expires",s.expires?s.expires.toUTCString():"")+e("Domain",s.domain)+e("Path",s.path)+e("Secure",s.secure)+e("SameSite",s.sameSite)}(i)}function u(l){for(var c={},i=l?l.split("; "):[],s=/(%[\dA-F]{2})+/gi,n=0;n<i.length;n++){var h=i[n].split("="),f=h.slice(1).join("=");f.charAt(0)==='"'&&(f=f.slice(1,-1));try{c[h[0].replace(s,decodeURIComponent)]=f.replace(s,decodeURIComponent)}catch{}}return c}function p(){return u(document.cookie)}function x(l,c,i){document.cookie=o(l,c,d({path:"/"},i))}t.__esModule=!0,t.encode=o,t.parse=u,t.getAll=p,t.get=function(l){return p()[l]},t.set=x,t.remove=function(l,c){x(l,"",d(d({},c),{expires:-1}))}});L(j),j.encode,j.parse,j.getAll;j.get;j.set;j.remove;new Q;var X={isAuthenticated:!1,isLoading:!0},y=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},Z=_(_({},X),{buildAuthorizeUrl:y,buildLogoutUrl:y,getAccessTokenSilently:y,getAccessTokenWithPopup:y,getIdTokenClaims:y,loginWithRedirect:y,loginWithPopup:y,logout:y,handleRedirectCallback:y});W(Z);(function(a){Y(t,a);function t(d,e){var o=a.call(this,e||d)||this;return o.error=d,o.error_description=e,Object.setPrototypeOf(o,t.prototype),o}return t})(Error);async function E(a,t="GET",d=null){const e={method:t};d&&(e.headers={"Content-Type":"application/json"},e.body=JSON.stringify(d));const o=D();o&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${o}`);const u=await fetch(a,e);if(u.ok)return u.json();throw new Error("Bad Request")}const q="/api/users";function ee(a){return E(q,"POST",a)}function te(a){return E(`${q}/login`,"POST",a)}async function re(a){const t=await ee(a);return localStorage.setItem("token",t),A()}async function ne(a){console.log(a);const t=await te(a);return console.log(t),localStorage.setItem("token",t),console.log(t),A()}function D(){const a=localStorage.getItem("token");return a?JSON.parse(atob(a.split(".")[1])).exp<Date.now()/1e3?(localStorage.removeItem("token"),null):a:null}function A(){const a=D();return a?JSON.parse(atob(a.split(".")[1])).user:null}function oe({setUser:a,showLogin:t,setShowLogin:d}){const[e,o]=N({name:"",email:"",password:"",confirm:"",userType:"",error:""}),u=async x=>{x.preventDefault();try{const{error:l,confirm:c,...i}=e,s=await re(i);a(s)}catch{o({...e,error:"Sign Up Failed - Try Again"})}},p=x=>{o({...e,[x.target.name]:x.target.value,error:""})};return e.password,e.confirm,r.jsx(r.Fragment,{children:r.jsx("div",{className:"relative flex flex-col justify-center min-h-screen overflow-hidden",children:r.jsxs("div",{className:"w-full p-6 m-auto bg-white rounded-md shadow-xl lg:max-w-xl",children:[r.jsx("h1",{className:"text-3xl font-semibold text-center text-purple-700 uppercase",children:"JOIN BRAINWAVES"}),r.jsxs("form",{className:"mt-6",onSubmit:u,children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800",children:"Name"}),r.jsx("input",{type:"text",name:"name",className:"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40",value:e.name,onChange:p,required:!0})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800",children:"Email"}),r.jsx("input",{type:"email",name:"email",className:"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40",value:e.email,onChange:p,required:!0})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800",children:"Password"}),r.jsx("input",{type:"password",className:"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40",name:"password",value:e.password,onChange:p,required:!0})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-semibold text-gray-800",children:"Confirm password"}),r.jsx("input",{type:"password",className:"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40",name:"confirm",value:e.confirm,onChange:p,required:!0})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"account_type",className:"block text-sm font-semibold text-gray-800",children:"Account type"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:"customer",name:"account_type",value:"customer",checked:e.account_type==="customer",onChange:p,className:"mr-2"}),r.jsx("label",{htmlFor:"customer",className:"mr-8",children:"Customer"}),r.jsx("input",{type:"radio",id:"freelancer",name:"account_type",value:"freelancer",checked:e.account_type==="freelancer",onChange:p,className:"mr-2"}),r.jsx("label",{htmlFor:"freelancer",children:"Freelancer"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{className:"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-purple-700 rounded-md hover:bg-purple-600 focus:outline-none focus:bg-purple-600",children:"Sign up"})})]}),r.jsxs("p",{className:"mt-8 text-xs font-light text-center text-gray-700",children:[" ","Already have an account?"," ",r.jsx("a",{className:"font-medium text-purple-600 hover:underline",onClick:()=>d(!t),children:t?"SIGN UP":"LOG IN"})]})]})})})}function ie({setUser:a,showLogin:t,setShowLogin:d}){const[e,o]=N({email:"",password:""}),[u,p]=N("");function x(c){o({...e,[c.target.name]:c.target.value}),p("")}async function l(c){c.preventDefault();try{const i=await ne(e);a(i)}catch{p("Log In Failed - Try Again")}}return r.jsx(r.Fragment,{children:r.jsx("div",{className:"relative flex flex-col justify-center min-h-screen overflow-hidden",children:r.jsxs("div",{className:"w-full p-6 m-auto bg-white rounded-md shadow-xl lg:max-w-xl",children:[r.jsx("h1",{className:"text-3xl font-semibold text-center text-purple-700 uppercase",children:"WELCOME BACK"}),r.jsxs("form",{className:"mt-6",onSubmit:l,children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800",children:"Email"}),r.jsx("input",{type:"email",name:"email",className:"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40",value:e.email,onChange:x,required:!0})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800",children:"Password"}),r.jsx("input",{type:"password",className:"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40",name:"password",value:e.password,onChange:x,required:!0})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{type:"submit",className:"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-purple-700 rounded-md hover:bg-purple-600 focus:outline-none focus:bg-purple-600",children:"Login"})})]}),r.jsxs("p",{className:"mt-8 text-xs font-light text-center text-gray-700",children:[" ","Don't have an account?"," ",r.jsx("a",{className:"font-medium text-purple-600 hover:underline",onClick:()=>d(!t),children:t?"SIGN UP":"LOG IN"})]}),u&&r.jsxs("p",{className:"error-message pt-12",children:[" ",u]})]})})})}function se({setUser:a}){const[t,d]=N(!0);return r.jsx(r.Fragment,{children:r.jsx("main",{className:"AuthPage",children:t?r.jsx(ie,{setUser:a,showLogin:t,setShowLogin:d}):r.jsx(oe,{setUser:a,showLogin:t,setShowLogin:d})})})}function ae(){return r.jsx("div",{children:"HomePage"})}function ce(){const[a,t]=N(A());function d(e){t(e)}return r.jsx(r.Fragment,{children:r.jsx("main",{className:"App main-background",children:r.jsx("div",{className:"h-screen flex flex-row",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Navbar,{user:a,updateUser:d,className:"w-64"}),r.jsx("div",{className:"flex-1",children:r.jsx(B,{children:r.jsx(J,{path:"/home",element:r.jsx(ae,{})})})})]}):r.jsx("div",{className:"flex-1",children:r.jsx(se,{setUser:d})})})})})}O.createRoot(document.getElementById("root")).render(r.jsx(P.StrictMode,{children:r.jsx(ce,{})}));
